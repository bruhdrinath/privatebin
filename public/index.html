<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>PrivateBin</title>
		<script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
		<link rel="stylesheet" href="/styles/index.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/simple.min.css"
		/>
	</head>
	<body>
		<nav>
			<div class="menu">
				<label for="expiry"
					>Expires in
					<select id="expiry" tabindex="3">
						<option value="1h">1 hour</option>
						<option value="1d">1 day</option>
						<option value="1m">1 week</option>
						<option value="1w">1 month</option>
					</select>
				</label>

				<label for="burn" class="burn-label">
					<input type="checkbox" id="burn" tabindex="4" hidden />
					<span class="burn-icon">
						<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M9.32 15.653a.812.812 0 0 1-.086-.855c.176-.342.245-.733.2-1.118a2.106 2.106 0 0 0-.267-.779 2.027 2.027 0 0 0-.541-.606 3.96 3.96 0 0 1-1.481-2.282c-1.708 2.239-1.053 3.51-.235 4.63a.748.748 0 0 1-.014.901.87.87 0 0 1-.394.283.838.838 0 0 1-.478.023c-1.105-.27-2.145-.784-2.85-1.603a4.686 4.686 0 0 1-.906-1.555 4.811 4.811 0 0 1-.263-1.797s-.133-2.463 2.837-4.876c0 0 3.51-2.978 2.292-5.18a.621.621 0 0 1 .112-.653.558.558 0 0 1 .623-.147l.146.058a7.63 7.63 0 0 1 2.96 3.5c.58 1.413.576 3.06.184 4.527.325-.292.596-.641.801-1.033l.029-.064c.198-.477.821-.325 1.055-.013.086.137 2.292 3.343 1.107 6.048a5.516 5.516 0 0 1-1.84 2.027 6.127 6.127 0 0 1-2.138.893.834.834 0 0 1-.472-.038.867.867 0 0 1-.381-.29zM7.554 7.892a.422.422 0 0 1 .55.146c.04.059.066.126.075.198l.045.349c.02.511.014 1.045.213 1.536.206.504.526.95.932 1.298a3.06 3.06 0 0 1 1.16 1.422c.22.564.25 1.19.084 1.773a4.123 4.123 0 0 0 1.39-.757l.103-.084c.336-.277.613-.623.813-1.017.201-.393.322-.825.354-1.269.065-1.025-.284-2.054-.827-2.972-.248.36-.59.639-.985.804-.247.105-.509.17-.776.19a.792.792 0 0 1-.439-.1.832.832 0 0 1-.321-.328.825.825 0 0 1-.035-.729c.412-.972.54-2.05.365-3.097a5.874 5.874 0 0 0-1.642-3.16c-.156 2.205-2.417 4.258-2.881 4.7a3.537 3.537 0 0 1-.224.194c-2.426 1.965-2.26 3.755-2.26 3.834a3.678 3.678 0 0 0 .459 2.043c.365.645.89 1.177 1.52 1.54C4.5 12.808 4.5 10.89 7.183 8.14l.372-.25z"
							/>
						</svg>
					</span>
					Burn after read
				</label>
			</div>

			<button
				class="theme-toggle theme-toggle--toggled"
				type="button"
				aria-label="Toggle theme"
				id="themeSwitch"
				style="background-color: transparent"
				tabindex="5"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					aria-hidden="true"
					width="1.75rem"
					height="1.75rem"
					class="theme-toggle__simple"
					fill="#fe5a1d"
					viewBox="0 0 32 32"
				>
					<clipPath id="theme-toggle__simple__cutout">
						<path d="M0-5h55v37h-55zm32 12a1 1 0 0025 0 1 1 0 00-25 0" />
					</clipPath>
					<g clip-path="url(#theme-toggle__simple__cutout)">
						<circle cx="16" cy="16" r="15" />
					</g>
				</svg>
			</button>
		</nav>
		<div class="container">
			<button onclick="createPaste()" tabindex="2" type="submit">Create</button>
			<textarea
				id="message"
				rows="10"
				placeholder="Enter your secret message..."
				autofocus
				tabindex="1"
			></textarea>
		</div>
		<p id="link"></p>

		<script src="/scripts/createPaste.js" defer></script>
		<script src="/scripts/decryptPaste.js" defer></script>
		<script>
			const body = document.body
			const themeSwitch = document.getElementById("themeSwitch")

			// Apply saved theme
			const isDarkSaved = localStorage.getItem("dark-mode") === "true"
			if (isDarkSaved) {
				body.classList.add("dark-mode")
				themeSwitch.classList.add("theme-toggle--toggled")
			} else {
				body.classList.remove("dark-mode")
				themeSwitch.classList.remove("theme-toggle--toggled")
			}

			// Toggle theme on click
			themeSwitch.addEventListener("click", () => {
				body.classList.toggle("dark-mode")
				const isDark = body.classList.contains("dark-mode")
				localStorage.setItem("dark-mode", isDark)
				themeSwitch.classList.toggle("theme-toggle--toggled", isDark)
			})
		</script>
	</body>
</html>
